var sw10=signwriting_2010={key:function(n,t){var i=n.match(/S[123][0-9a-f]{2}[0-5][0-9a-f]([0-9]{3}x[0-9]{3})?/g);return i?i[0]+(t?this.styling(n):""):""},fsw:function(n,t){var i=n.match(/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*|S38[7-9ab][0-5][0-9a-f][0-9]{3}x[0-9]{3}/),r=this.styling(n);return i?i[0]+(t?this.styling(n):""):""},styling:function(n){var t=n.match(/-C?(P[0-9]{2})?(G\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)\))?(D\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)(,([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+))?\))?(Z[0-9]+(\.[0-9]+)?)?(\+(D[0-9]{2}\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)(,([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+))?\))*(Z[0-9]{2},[0-9]+(\.[0-9]+)?(,[0-9]{3}x[0-9]{3})?)*)?/);return t?t[0]:""},mirror:function(n){if(n=this.key(n),!this.size(n))return"";var r=n.slice(0,4),u=n.slice(4,5),t=parseInt(n.slice(5,6),16),f=r+"08",e=r+"18",i;for(this.size(f)||this.size(e)?i=8:((t==0||t==4)&&(i=0),(t==1||t==5)&&(i=6),(t==2||t==6)&&(i=4),(t==3||t==7)&&(i=2)),n="";!this.size(n);)t+=i,t>7&&i<8&&(t=t-8),t>15&&(t=t-16),n=r+u+t.toString(16);return n},fill:function(n,t){if(n=this.key(n),!this.size(n))return"";t!=-1&&(t=1);var r=n.slice(0,4),i=parseInt(n.slice(4,5)),u=n.slice(5,6);for(n="";!this.size(n);)i+=t,i>5&&(i=0),i<0&&(i=5),n=r+i+u;return n},rotate:function(n,t){if(n=this.key(n),!this.size(n))return"";t!=-1&&(t=1);var r=n.slice(0,4),u=n.slice(4,5),i=parseInt(n.slice(5,6),16);for(n="";!this.size(n);)i>7?(i+=t,i>15&&(i=8),i<8&&(i=15),n=r+u+i.toString(16)):(i-=t,i>7&&(i=0),i<0&&(i=7),n=r+u+i);return n},scroll:function(n,t){if(n=this.key(n),!this.size(n))return"";t!=-1&&(t=1);var r=parseInt(n.slice(1,4),16)+t,u=n.slice(4,5),f=n.slice(5,6),i="S"+r.toString(16)+u+f;return this.size(i)?i:n},structure:function(n,t,r){var u={kind:["S100","S37f","S387"],category:["S100","S205","S2f7","S2ff","S36d","S37f","S387"],group:["S100","S10e","S11e","S144","S14c","S186","S1a4","S1ba","S1cd","S1f5","S205","S216","S22a","S255","S265","S288","S2a6","S2b7","S2d5","S2e3","S2f7","S2ff","S30a","S32a","S33b","S359","S36d","S376","S37f","S387"]}[n],e,f;if(!u)return t?r=="is"?!1:"":[];if(!t&&!r)return u;r||(r="");switch(r){case"is":return u.indexOf(t.slice(0,4))==-1?!1:!0;case"first":return u[0];case"last":return u.slice(-1)[0];case"prev":e=-2;break;case"":e=-1;break;case"next":e=0;break;default:return""}for(f=u.length,i=0;i<u.length;i++)if(parseInt(t.slice(1,4),16)<parseInt(u[i].slice(1,4),16)){f=i;break}return f+=e,f=f<0?0:f>=u.length?u.length-1:f,u[f]},type:function(n){var t,i;switch(n){case"writing":t="100";i="37e";break;case"hand":t="100";i="204";break;case"movement":t="205";i="2f6";break;case"dynamic":t="2f7";i="2fe";break;case"head":case"hcenter":t="2ff";i="36c";break;case"vcenter":t="2ff";i="375";break;case"trunk":t="36d";i="375";break;case"limb":t="376";i="37e";break;case"location":t="37f";i="386";break;case"punctuation":t="387";i="38b";break;default:t="100";i="38b"}return[t,i]},is:function(n,t){if(n.length==6&&!this.size(n))return!1;var i=this.type(t),u=i[0],f=i[1],r=n.slice(1,4);return parseInt(u,16)<=parseInt(r,16)&&parseInt(f,16)>=parseInt(r,16)},filter:function(n,t){var i=this.type(t),u=i[0],f=i[1],e="S"+this.range(u,f,1)+"[0-5][0-9a-f][0-9]{3}x[0-9]{3}",r=n.match(RegExp(e,"g"));return r?r.join(""):""},random:function(n){var t=this.type(n),i=t[0],u=t[1],f=Math.floor(Math.random()*(parseInt(u,16)-parseInt(i,16)+1)+parseInt(i,16)),e=Math.floor(Math.random()*6),o=Math.floor(Math.random()*16),r="S"+f.toString(16)+e.toString(16)+o.toString(16);return this.size(r)?r:this.random(n)},colorize:function(n){var t="000000";return this.is(n,"hand")&&(t="0000CC"),this.is(n,"movement")&&(t="CC0000"),this.is(n,"dynamic")&&(t="FF0099"),this.is(n,"head")&&(t="006600"),this.is(n,"location")&&(t="884411"),this.is(n,"punctuation")&&(t="FF9900"),t},view:function(n,t){if(!this.is(n))return"";var i=n.slice(0,4);return t?i+(this.size(i+"00")?"0":"1")+"0":i+(this.is(i,"hand")&&!this.structure("group",i,"is")?"1":"0")+"0"},code:function(n,t){var r,u=this.fsw(n),o,e,f;if(u){for(o="S[123][0-9a-f]{2}[0-5][0-9a-f]",e=u.match(RegExp(o,"g")),i=0;i<e.length;i++)r=e[i],u=u.replace(r,this.code(r,t));return u}return(r=this.key(n),!r)?"":(f=1048576+(parseInt(r.slice(1,4),16)-256)*96+parseInt(r.slice(4,5),16)*16+parseInt(r.slice(5,6),16)+1,t?f.toString(16).toUpperCase():String.fromCharCode(55296+(f-65536>>10),56320+(f-65536&1023)))},uni8:function(n,t){var r,e=this.fsw(n),c,o,u;if(e){for(c="S[123][0-9a-f]{2}[0-5][0-9a-f]",o=e.match(RegExp(c,"g")),i=0;i<o.length;i++)r=o[i],e=e.replace(r,this.uni8(r,t));return e}if(r=this.key(n),!r)return"";var s=parseInt(r.substr(1,3),16)+parseInt("1D700",16),h=t?s.toString(16).toUpperCase():String.fromCharCode(55296+(s-65536>>10),56320+(s-65536&1023)),f=r.substr(4,1);return f!="0"&&(f=parseInt(f,16)+parseInt("1DA9A",16),h+=t?f.toString(16).toUpperCase():String.fromCharCode(55296+(f-65536>>10),56320+(f-65536&1023))),u=r.substr(5,1),u!="0"&&(u=parseInt(u,16)+parseInt("1DAA0",16),h+=t?u.toString(16).toUpperCase():String.fromCharCode(55296+(u-65536>>10),56320+(u-65536&1023))),h},pua:function(n,t){var i=this.fsw(n),a,r,u,h,l,o,e,f,s;if(i){for(r=parseInt("FD800",16),i=i.replace("A",t?r.toString(16).toUpperCase():String.fromCharCode(55296+(r-65536>>10),56320+(r-65536&1023))),i=i.replace("B",t?(r+1).toString(16).toUpperCase():String.fromCharCode(55296+(r+1-65536>>10),56320+(r+1-65536&1023))),i=i.replace("L",t?(r+2).toString(16).toUpperCase():String.fromCharCode(55296+(r+2-65536>>10),56320+(r+2-65536&1023))),i=i.replace("M",t?(r+3).toString(16).toUpperCase():String.fromCharCode(55296+(r+3-65536>>10),56320+(r+3-65536&1023))),i=i.replace("R",t?(r+4).toString(16).toUpperCase():String.fromCharCode(55296+(r+4-65536>>10),56320+(r+4-65536&1023))),l="[0-9]{3}x[0-9]{3}",o=i.match(RegExp(l,"g")),e=0;e<o.length;e++)a=o[e],u=a.split("x"),u[0]=parseInt(u[0])+parseInt("FDD0C",16),u[1]=parseInt(u[1])+parseInt("FDD0C",16),h=t?u[0].toString(16).toUpperCase():String.fromCharCode(55296+(u[0]-65536>>10),56320+(u[0]-65536&1023)),h+=t?u[1].toString(16).toUpperCase():String.fromCharCode(55296+(u[1]-65536>>10),56320+(u[1]-65536&1023)),i=i.replace(a,h);for(l="S[123][0-9a-f]{2}[0-5][0-9a-f]",o=i.match(RegExp(l,"g")),e=0;e<o.length;e++)f=o[e],i=i.replace(f,this.pua(f,t));return i}if(f=this.key(n),!f)return"";var v=parseInt(f.substr(1,3),16)+parseInt("FD730",16),h=t?v.toString(16).toUpperCase():String.fromCharCode(55296+(v-65536>>10),56320+(v-65536&1023)),c=f.substr(4,1);return c=parseInt(c,16)+parseInt("FD810",16),h+=t?c.toString(16).toUpperCase():String.fromCharCode(55296+(c-65536>>10),56320+(c-65536&1023)),s=f.substr(5,1),s=parseInt(s,16)+parseInt("FD820",16),h+(t?s.toString(16).toUpperCase():String.fromCharCode(55296+(s-65536>>10),56320+(s-65536&1023)))},bbox:function(n){var i,r,u,f,e,o,s=n.match(/[0-9]{3}x[0-9]{3}/g),t;if(s){for(t=0;t<s.length;t++)i=parseInt(s[t].slice(0,3)),r=parseInt(s[t].slice(4,7)),t==0?(u=i,f=i,e=r,o=r):(u=Math.min(u,i),f=Math.max(f,i),e=Math.min(e,r),o=Math.max(o,r));return""+u+" "+f+" "+e+" "+o}return""},displace:function(n,t,i){var f,e,u=n.match(RegExp("[0-9]{3}x[0-9]{3}","g")),r;if(u){for(r=0;r<u.length;r++)f=parseInt(u[r].slice(0,3))+t,e=parseInt(u[r].slice(4,7))+i,n=n.replace(u[r],f+"X"+e);n=n.replace(/X/g,"x")}return n},sizes:{},size:function(n){var e,w=this.fsw(n),h,t,p,a,c,r,b,l,i,f,u,o,s,v,y,k;if(w)return(h=this.bbox(w),h=h.split(" "),x1=h[0],x2=h[1],y1=h[2],y2=h[3],e=x2-x1+"x"+(y2-y1),e=="0x0")?"":e;if(t=this.key(n),!t)return"";if(this.sizes[t])return this.sizes[t];c=2;r=76*c;this.canvaser||(this.canvaser=document.createElement("canvas"),this.canvaser.width=r,this.canvaser.height=r);b=this.canvaser;l=b.getContext("2d");l.clearRect(0,0,r,r);l.font=30*c+"px 'SignWriting 2010'";l.fillText(this.code(t),0,0);p=l.getImageData(0,0,r,r).data;n:for(u=r-1;u>=0;u--)for(f=0;f<r;f++)for(o=0;o<4;o++)if(a=u*4+f*4*r+o,p[a])break n;i=u;n:for(f=r-1;f>=0;f--)for(u=0;u<i;u++)for(o=0;o<4;o++)if(a=u*4+f*4*r+o,p[a])break n;if(s=f+1,i=""+Math.ceil(i/c),s=""+Math.ceil(s/c),"S1710d S1711d S1712d S17311 S17321 S17733 S1773f S17743 S1774f S17753 S1775f S16d33 S1713d S1714d S17301 S17329 S1715d".indexOf(t)>-1&&(i="20"),"S24c15 S24c30".indexOf(t)>-1&&(i="22"),"S2903b".indexOf(t)>-1&&(i="23"),"S1d203 S1d233".indexOf(t)>-1&&(i="25"),"S24c15".indexOf(t)>-1&&(i="28"),"S2e629".indexOf(t)>-1&&(i="29"),"S16541 S23425".indexOf(t)>-1&&(i="30"),"S2d316".indexOf(t)>-1&&(i="40"),"S2541a".indexOf(t)>-1&&(i="50"),"S1732f S17731 S17741 S17751".indexOf(t)>-1&&(s="20"),"S1412c".indexOf(t)>-1&&(s="21"),"S2a903".indexOf(t)>-1&&(s="31"),"S2b002".indexOf(t)>-1&&(s="36"),e=i+"x"+s,e=="0x0"){if(v="S1000815x30 S1000921x30 S1000a30x15 S1000b30x21 S1000c15x30 S1000d21x30 ",y=v.indexOf(t),y==-1)return"";k=v.indexOf(" ",y);e=v.slice(y+6,k)}return this.sizes[t]=e,e},max:function(n,t){var h=this.type(t),c=h[0],l=h[1],a="S"+this.range(c,l,1)+"[0-5][0-9a-f][0-9]{3}x[0-9]{3}",r=n.match(RegExp(a,"g")),u,f,e,o,s,i;if(r){for(s="",i=0;i<r.length;i++)u=r[i].slice(0,6),f=parseInt(r[i].slice(6,9)),e=parseInt(r[i].slice(10,13)),o=this.size(u).split("x"),s+=u+f+"x"+e+(f+parseInt(o[0]))+"x"+(e+parseInt(o[1]));return s}return""},norm:function(n){var r,u,f,e,o=this.bbox(this.max(n,"hcenter")),s=this.bbox(this.max(n,"vcenter")),t=this.bbox(this.max(n));if(!t)return"";s?(r=parseInt(s.slice(0,3)),u=parseInt(s.slice(4,7))):(r=parseInt(t.slice(0,3)),u=parseInt(t.slice(4,7)));o?(f=parseInt(o.slice(8,11)),e=parseInt(o.slice(12,15))):(f=parseInt(t.slice(8,11)),e=parseInt(t.slice(12,15)));var h=parseInt((r+u)/2),c=parseInt((f+e)/2),l=500-h,a=500-c,i=n.match(/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]/);return i=i?i[0]:"M",n=i+parseInt(t.slice(4,7))+"x"+parseInt(t.slice(12,15))+this.filter(n),this.displace(n,l,a)},svg:function(n,t){var k=this.fsw(n),d=this.styling(n),g,et,r,it,u,rt,ht,st,ct,o,v,f,ut,y,a,i,b,e;if(!k){if(g=this.key(n),et=this.size(g),!et)return"";k=g.length==6?g+"500x500":g}if(t||(t={}),t.size=t.size?parseFloat(t.size)||"x":1,t.colorize=t.colorize?!0:!1,t.pad=t.pad?parseInt(t.pad):0,t.line=t.line?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(t.line)?"#"+t.line:t.line:"black",t.fill=t.fill?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(t.fill)?"#"+t.fill:t.fill:"white",t.back=t.back?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(t.back)?"#"+t.back:t.back:"",t.E=[],t.F=[],t.view=t.view=="key"?"key":t.view=="uni8"?"uni8":t.view=="pua"?"pua":"code",t.copy=t.copy=="code"?"code":t.copy=="uni8"?"uni8":t.copy=="pua"?"pua":"key",d){if(r=d.match(/C/),t.colorize=r?!0:!1,r=d.match(/P[0-9]{2}/),r&&(t.pad=parseInt(r[0].substring(1,r[0].length))),r=d.match(/G\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)\)/),r&&(it=r[0].substring(2,r[0].length-1),t.back=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(it)?"#"+it:it),stylings=d.split("+"),r=stylings[0].match(/D\(([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+))?\)/),r&&(u=r[0].substring(2,r[0].length-1).split(","),u[0]&&(t.line=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[0])?"#"+u[0]:u[0]),u[1]&&(t.fill=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[1])?"#"+u[1]:u[1])),r=stylings[0].match(/Z[0-9]+(\.[0-9]+)?/),r&&(t.size=r[0].substring(1,r[0].length)),stylings[1]||(stylings[1]=""),r=stylings[1].match(/D[0-9]{2}\(([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+))?\)/g),r)for(i=0;i<r.length;i++)rt=parseInt(r[i].substring(1,3)),u=r[i].substring(4,r[i].length-1).split(","),u[0]&&(u[0]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[0])?"#"+u[0]:u[0]),u[1]&&(u[1]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[1])?"#"+u[1]:u[1]),t.E[rt]=u;if(r=stylings[1].match(/Z[0-9]{2},[0-9]+(\.[0-9]+)?(,[0-9]{3}x[0-9]{3})?/g),r)for(i=0;i<r.length;i++)rt=parseInt(r[i].substring(1,3)),a=r[i].substring(4,r[i].length).split(","),a[0]=parseFloat(a[0]),t.F[rt]=a}ht=/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*|S38[7-9ab][0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;st=/S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;ct=/[0-9]{3}x[0-9]{3}/g;ut={};ut.L=-1;ut.R=1;var p,s=500,c=500,w,h=500,l=500,ot,nt,tt,ft;for(ot=k.charAt(0),y=this.bbox(k),y=y.split(" "),s=parseInt(y[0]),c=parseInt(y[1]),h=parseInt(y[2]),l=parseInt(y[3]),ot=="S"&&(s==500&&h==500?(a=et.split("x"),c=500+parseInt(a[0]),l=500+parseInt(a[1])):(c=1e3-s,l=1e3-h)),v=k.match(st),i=0;i<v.length;i++)o=v[i].slice(0,6),p=v[i].slice(6,9),w=v[i].slice(10,13),t.F[i+1]&&(t.F[i+1][1]&&(p=parseInt(p)+parseInt(t.F[i+1][1].slice(0,3))-500,w=parseInt(w)+parseInt(t.F[i+1][1].slice(4,7))-500,s=Math.min(s,p),h=Math.min(h,w)),b=this.size(o),b&&(b=b.split("x"),c=Math.max(c,parseInt(p)+t.F[i+1][0]*parseInt(b[0])),l=Math.max(l,parseInt(w)+t.F[i+1][0]*parseInt(b[1])))),f='<g transform="translate('+p+","+w+')">',f+="<text ",f+='class="sym-fill" ',t.css||(f+="style=\"pointer-events:none;font-family:'SignWriting 2010 Filling';font-size:"+(t.F[i+1]?30*t.F[i+1][0]:30)+"px;fill:"+(t.E[i+1]?t.E[i+1][1]?t.E[i+1][1]:t.fill:t.fill)+";",f+=t.view=="code"?"":"-webkit-font-feature-settings:'liga';font-feature-settings:'liga';",f+='"'),f+=">",f+=t.view=="key"?o:t.view=="uni8"?this.uni8(o):t.view=="pua"?this.pua(o):this.code(o),f+="<\/text>",f+="<text ",f+='class="sym-line" ',t.css||(f+='style="',f+=t.view==t.copy?"":"pointer-events:none;",f+="font-family:'SignWriting 2010';font-size:"+(t.F[i+1]?30*t.F[i+1][0]:30)+"px;fill:"+(t.E[i+1]?t.E[i+1][0]:t.colorize?"#"+this.colorize(o):t.line)+";",f+=t.view=="code"?"":"-webkit-font-feature-settings:'liga';font-feature-settings:'liga';",f+='"'),f+=">",f+=t.view=="key"?o:t.view=="uni8"?this.uni8(o):t.view=="pua"?this.pua(o):this.code(o),f+="<\/text>",f+="<\/g>",v[i]=f;return s=s-t.pad,c=c+t.pad,h=h-t.pad,l=l+t.pad,nt=c-s,tt=l-h,ft=ut[ot]||0,ft=ft*75+s-400,e='<svg xmlns="http://www.w3.org/2000/svg" ',t.class&&(e+='class="'+t.class+'" '),t.size!="x"&&(e+='width="'+nt*t.size+'" height="'+tt*t.size+'" '),e+='viewBox="'+s+" "+h+" "+nt+" "+tt+'">',t.view!=t.copy&&(e+='<text style="font-size:0%;">',e+=t.copy=="code"?this.code(n):t.copy=="uni8"?this.uni8(n):t.copy=="pua"?this.pua(n):n,e+="<\/text>"),t.back&&(e+='  <rect x="'+s+'" y="'+h+'" width="'+nt+'" height="'+tt+'" style="fill:'+t.back+';" />'),e+=v.join("")+"<\/svg>",t.laned&&(e='<div style="padding:10px;position:relative;width:'+nt+"px;height:"+tt+"px;left:"+ft+'px;">'+e+"<\/div>"),e},symbolsList:function(n,t){var tt=this.fsw(n),it=this.styling(n),rt,ht,r,et,u,ot,vt,at,yt,e,p,f,st,ct,s,g,y,i,nt,ft,o,l;if(!tt){if(rt=this.key(n),ht=this.size(rt),!ht)return"";tt=rt.length==6?rt+"500x500":rt}if(t||(t={}),t.size=t.size?parseFloat(t.size)||"x":1,t.colorize=t.colorize?!0:!1,t.pad=t.pad?parseInt(t.pad):0,t.line=t.line?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(t.line)?"#"+t.line:t.line:"black",t.fill=t.fill?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(t.fill)?"#"+t.fill:t.fill:"white",t.back=t.back?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(t.back)?"#"+t.back:t.back:"",t.E=[],t.F=[],t.view=t.view=="key"?"key":t.view=="uni8"?"uni8":t.view=="pua"?"pua":"code",t.copy=t.copy=="code"?"code":t.copy=="uni8"?"uni8":t.copy=="pua"?"pua":"key",it){if(r=it.match(/C/),t.colorize=r?!0:!1,r=it.match(/P[0-9]{2}/),r&&(t.pad=parseInt(r[0].substring(1,r[0].length))),r=it.match(/G\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)\)/),r&&(et=r[0].substring(2,r[0].length-1),t.back=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(et)?"#"+et:et),stylings=it.split("+"),r=stylings[0].match(/D\(([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+))?\)/),r&&(u=r[0].substring(2,r[0].length-1).split(","),u[0]&&(t.line=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[0])?"#"+u[0]:u[0]),u[1]&&(t.fill=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[1])?"#"+u[1]:u[1])),r=stylings[0].match(/Z[0-9]+(\.[0-9]+)?/),r&&(t.size=r[0].substring(1,r[0].length)),stylings[1]||(stylings[1]=""),r=stylings[1].match(/D[0-9]{2}\(([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+))?\)/g),r)for(i=0;i<r.length;i++)ot=parseInt(r[i].substring(1,3)),u=r[i].substring(4,r[i].length-1).split(","),u[0]&&(u[0]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[0])?"#"+u[0]:u[0]),u[1]&&(u[1]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[1])?"#"+u[1]:u[1]),t.E[ot]=u;if(r=stylings[1].match(/Z[0-9]{2},[0-9]+(\.[0-9]+)?(,[0-9]{3}x[0-9]{3})?/g),r)for(i=0;i<r.length;i++)ot=parseInt(r[i].substring(1,3)),y=r[i].substring(4,r[i].length).split(","),y[0]=parseFloat(y[0]),t.F[ot]=y}vt=/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*|S38[7-9ab][0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;at=/S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;yt=/[0-9]{3}x[0-9]{3}/g;st={};st.L=-1;st.R=1;var w,h=500,a=500,b,c=500,v=500,lt,k,d,ut;for(lt=tt.charAt(0),g=this.bbox(tt),g=g.split(" "),h=parseInt(g[0]),a=parseInt(g[1]),c=parseInt(g[2]),v=parseInt(g[3]),lt=="S"&&(h==500&&c==500?(y=ht.split("x"),a=500+parseInt(y[0]),v=500+parseInt(y[1])):(a=1e3-h,v=1e3-c)),p=tt.match(at),ct=[],i=0;i<p.length;i++)e=p[i].slice(0,6),w=p[i].slice(6,9),b=p[i].slice(10,13),t.F[i+1]&&(t.F[i+1][1]&&(w=parseInt(w)+parseInt(t.F[i+1][1].slice(0,3))-500,b=parseInt(b)+parseInt(t.F[i+1][1].slice(4,7))-500,h=Math.min(h,w),c=Math.min(c,b)),nt=this.size(e),nt&&(nt=nt.split("x"),a=Math.max(a,parseInt(w)+t.F[i+1][0]*parseInt(nt[0])),v=Math.max(v,parseInt(b)+t.F[i+1][0]*parseInt(nt[1])))),s={},s.x=parseInt(w),s.y=parseInt(b),ft=this.size(e),ft=ft.split("x"),s.width=parseInt(ft[0]),s.height=parseInt(ft[1]),f='<g transform="translate('+w+","+b+')">',f+="<text ",f+='class="sym-fill" ',t.css||(s.fontsize=t.F[i+1]?30*t.F[i+1][0]:30,s.nwcolor=t.E[i+1]?t.E[i+1][1]?t.E[i+1][1]:t.fill:t.fill,f+="style=\"pointer-events:none;font-family:'SignWriting 2010 Filling';font-size:"+(t.F[i+1]?30*t.F[i+1][0]:30)+"px;fill:"+(t.E[i+1]?t.E[i+1][1]?t.E[i+1][1]:t.fill:t.fill)+";",f+=t.view=="code"?"":"-webkit-font-feature-settings:'liga';font-feature-settings:'liga';",f+='"'),f+=">",s.size=t.F[i+1]?t.F[i+1][0]:1,s.pua=this.pua(e),s.code=this.code(e).codePointAt(),s.key=e,f+=t.view=="key"?e:t.view=="uni8"?this.uni8(e):t.view=="pua"?this.pua(e):this.code(e),f+="<\/text>",f+="<text ",f+='class="sym-line" ',t.css||(f+='style="',f+=t.view==t.copy?"":"pointer-events:none;",s.nbcolor=t.E[i+1]?t.E[i+1][0]:t.colorize?"#"+colorize(e):t.line,f+="font-family:'SignWriting 2010';font-size:"+(t.F[i+1]?30*t.F[i+1][0]:30)+"px;fill:"+(t.E[i+1]?t.E[i+1][0]:t.colorize?"#"+this.colorize(e):t.line)+";",f+=t.view=="code"?"":"-webkit-font-feature-settings:'liga';font-feature-settings:'liga';",f+='"'),f+=">",f+=t.view=="key"?e:t.view=="uni8"?this.uni8(e):t.view=="pua"?this.pua(e):this.code(e),f+="<\/text>",f+="<\/g>",p[i]=f,ct[i]=s;return h=h-t.pad,a=a+t.pad,c=c-t.pad,v=v+t.pad,k=a-h,d=v-c,ut=st[lt]||0,ut=ut*75+h-400,o={},l='<svg xmlns="http://www.w3.org/2000/svg" ',t.class&&(l+='class="'+t.class+'" ',o.class=t.classname),t.size!="x"&&(l+='width="'+k*t.size+'" height="'+d*t.size+'" '),o.width=k*t.size,o.height=d*t.size,l+='viewBox="'+h+" "+c+" "+k+" "+d+'">',o.text=n,t.view!=t.copy&&(l+='<text style="font-size:0%;">',l+=t.copy=="code"?this.code(n):t.copy=="uni8"?this.uni8(n):t.copy=="pua"?this.pua(n):n,l+="<\/text>"),t.back&&(l+='  <rect x="'+h+'" y="'+c+'" width="'+k+'" height="'+d+'" style="fill:'+t.back+';" />'),o.x=h,o.y=c,o.width=k,o.height=d,o.backfill=t.back,l+=p.join("")+"<\/svg>",o.syms=ct,t.laned&&(l='<div style="padding:10px;position:relative;width:'+k+"px;height:"+d+"px;left:"+ut+'px;">'+l+"<\/div>"),o.laned=t.laned?!0:!1,o.left=ut,o},canvas:function(n,t){var g=document.createElement("canvas"),b=this.fsw(n,!0),d=this.styling(n),k,et,r,nt,u,tt,st,it,ht,p,c,rt,w,y,ut,ft,v,i,h;if(!b){if(k=this.key(n),et=this.size(k),!k)return"";b=k.length==6?k+"500x500":k}if(t||(t={}),t.size=t.size?parseFloat(t.size):1,t.colorize=t.colorize?!0:!1,t.pad=t.pad?parseInt(t.pad):0,t.line=t.line?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(t.line)?"#"+t.line:t.line:"black",t.fill=t.fill?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(t.fill)?"#"+t.fill:t.fill:"white",t.back=t.back?/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(t.back)?"#"+t.back:t.back:"",t.E=[],t.F=[],d){if(r=d.match(/C/),t.colorize=r?!0:!1,r=d.match(/P[0-9]{2}/),r&&(t.pad=parseInt(r[0].substring(1,r[0].length))),r=d.match(/G\(([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)\)/),r&&(nt=r[0].substring(2,r[0].length-1),t.back=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(nt)?"#"+nt:nt),stylings=d.split("+"),r=stylings[0].match(/D\(([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+))?\)/),r&&(u=r[0].substring(2,r[0].length-1).split(","),u[0]&&(t.line=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[0])?"#"+u[0]:u[0]),u[1]&&(t.fill=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[1])?"#"+u[1]:u[1])),r=stylings[0].match(/Z[0-9]+(\.[0-9]+)?/),r&&(t.size=r[0].substring(1,r[0].length)),stylings[1]||(stylings[1]=""),r=stylings[1].match(/D[0-9]{2}\(([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+))?\)/g),r)for(i=0;i<r.length;i++)tt=parseInt(r[i].substring(1,3)),u=r[i].substring(4,r[i].length-1).split(","),u[0]&&(u[0]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[0])?"#"+u[0]:u[0]),u[1]&&(u[1]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(u[1])?"#"+u[1]:u[1]),t.E[tt]=u;if(r=stylings[1].match(/Z[0-9]{2},[0-9]+(\.[0-9]+)?(,[0-9]{3}x[0-9]{3})?/g),r)for(i=0;i<r.length;i++)tt=parseInt(r[i].substring(1,3)),y=r[i].substring(4,r[i].length).split(","),y[0]=parseFloat(y[0]),t.F[tt]=y}st=/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*|S38[7-9ab][0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;it=/S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;ht=/[0-9]{3}x[0-9]{3}/g;rt={};rt.L=-1;rt.R=1;var f,e=500,l=500,o,s=500,a=500,ot,ut,ft;for(ot=b.charAt(0),w=this.bbox(b),w=w.split(" "),e=parseInt(w[0]),l=parseInt(w[1]),s=parseInt(w[2]),a=parseInt(w[3]),ot=="S"&&(e==500&&s==500?(y=et.split("x"),l=500+parseInt(y[0]),a=500+parseInt(y[1])):(l=1e3-e,a=1e3-s)),c=b.match(it),i=0;i<c.length;i++)p=c[i].slice(0,6),f=c[i].slice(6,9),o=c[i].slice(10,13),t.F[i+1]&&(t.F[i+1][1]&&(f=parseInt(f)+parseInt(t.F[i+1][1].slice(0,3))-500,o=parseInt(o)+parseInt(t.F[i+1][1].slice(4,7))-500,e=Math.min(e,f),s=Math.min(s,o)),h=this.size(p),h&&(h=h.split("x"),l=Math.max(l,parseInt(f)+t.F[i+1][0]*parseInt(h[0])),a=Math.max(a,parseInt(o)+t.F[i+1][0]*parseInt(h[1]))));for(e=e-t.pad,l=l+t.pad,s=s-t.pad,a=a+t.pad,ut=(l-e)*t.size,ft=(a-s)*t.size,g.width=ut,g.height=ft,v=g.getContext("2d"),t.back&&(v.rect(0,0,ut,ft),v.fillStyle=t.back,v.fill()),c=b.match(it),i=0;i<c.length;i++)p=c[i].slice(0,6),f=c[i].slice(6,9),o=c[i].slice(10,13),t.F[i+1]&&(t.F[i+1][1]&&(f=parseInt(f)+parseInt(t.F[i+1][1].slice(0,3))-500,o=parseInt(o)+parseInt(t.F[i+1][1].slice(4,7))-500,e=Math.min(e,f),s=Math.min(s,o)),h=this.size(p),h&&(h=h.split("x"),l=Math.max(l,parseInt(f)+t.F[i+1][0]*parseInt(h[0])),a=Math.max(a,parseInt(o)+t.F[i+1][0]*parseInt(h[1])))),v.font=(t.F[i+1]?30*t.size*t.F[i+1][0]:30*t.size)+"px 'SignWriting 2010 Filling'",v.fillStyle=t.E[i+1]?t.E[i+1][1]?t.E[i+1][1]:t.fill:t.fill,v.fillText(this.code(p),(f-e)*t.size,(o-s)*t.size),v.font=(t.F[i+1]?30*t.size*t.F[i+1][0]:30*t.size)+"px 'SignWriting 2010'",v.fillStyle=t.E[i+1]?t.E[i+1][0]:t.colorize?"#"+this.colorize(p):t.line,v.fillText(this.code(p),(f-e)*t.size,(o-s)*t.size);return g},png:function(n,t){if(this.fsw(n,!0)||this.key(n,!0)){var i=this.canvas(n,t),r=i.toDataURL("image/png");return i.remove(),r}return""},query:function(n){var n=n.match(/Q((A(S[123][0-9a-f]{2}[0-5u][0-9a-fu]|R[123][0-9a-f]{2}t[123][0-9a-f]{2})+)?T)?((R[123][0-9a-f]{2}t[123][0-9a-f]{2}([0-9]{3}x[0-9]{3})?)|(S[123][0-9a-f]{2}[0-5u][0-9a-fu]([0-9]{3}x[0-9]{3})?))*(V[0-9]+)?/);return n?n[0]:""},range:function(n,t,i){var r,e,u,f,h,o,s;if(i||(i=""),n=("000"+n).slice(-3),t=""+t,r="",n===t)return n;if(e=[],!(n[0]==t[0]&&n[1]==t[1])&&n[2]!="0")if(r=n[0]+n[1],i){switch(n[2]){case"f":r+="f";break;case"e":r+="[ef]";break;case"d":case"c":case"b":case"a":r+="["+n[2]+"-f]";break;default:switch(n[2]){case"9":r+="[9a-f]";break;case"8":r+="[89a-f]";break;default:r+="["+n[2]+"-9a-f]"}}u=16-parseInt(n[2],16);n=""+(parseInt(n,16)+u).toString(16);e.push(r)}else{switch(n[2]){case"9":r+="9";break;case"8":r+="[89]";break;default:r+="["+n[2]+"-9]"}u=10-n[2];n=""+(n*1+u);e.push(r)}if(r="",n[0]!=t[0]&&n[1]!="0")if(i){r=n[0];switch(n[1]){case"f":r+="f";break;case"e":r+="[ef]";break;case"d":case"c":case"b":case"a":r+="["+n[1]+"-f]";break;case"9":r+="[9a-f]";break;case"8":r+="[89a-f]";break;default:r+="["+n[1]+"-9a-f]"}r+="[0-9a-f]";u=16-parseInt(n[1],16);n=""+(parseInt(n,16)+u*16).toString(16);e.push(r)}else{r=n[0];u=10-n[1];switch(n[1]){case"9":r+="9";break;case"8":r+="[89]";break;default:r+="["+n[1]+"-9]"}r+="[0-9]";u=10-n[1];n=""+(n*1+u*10);e.push(r)}if(r="",n[0]!=t[0])if(i){u=parseInt(t[0],16)-parseInt(n[0],16);f=(parseInt(n[0],16)+u-1).toString(16);switch(u){case 1:r=n[0];break;case 2:r="["+n[0]+f+"]";break;default:o=parseInt(n[0],16)>9?"h":"d";s=parseInt(f,16)>9?"h":"d";switch(o+s){case"dd":r+="["+n[0]+"-"+f+"]";break;case"dh":u=9-n[0];switch(u){case 0:r+="[9";break;case 1:r+="[89";break;default:r+="["+n[0]+"-9"}switch(f[0]){case"a":r+="a]";break;case"b":r+="ab]";break;default:r+="a-"+f+"]"}break;case"hh":r+="["+n[0]+"-"+f+"]"}}r+="[0-9a-f][0-9a-f]";u=parseInt(t[0],16)-parseInt(n[0],16);n=""+(parseInt(n,16)+u*256).toString(16);e.push(r)}else{u=t[0]-n[0];f=n[0]*1+u-1;switch(u){case 1:r=n[0];break;case 2:r="["+n[0]+f+"]";break;default:r="["+n[0]+"-"+f+"]"}r+="[0-9][0-9]";n=""+(n*1+u*100);e.push(r)}if(r="",n[1]!=t[1])if(i){u=parseInt(t[1],16)-parseInt(n[1],16);f=(parseInt(n[1],16)+u-1).toString(16);r=n[0];switch(u){case 1:r+=n[1];break;case 2:r+="["+n[1]+f+"]";break;default:o=parseInt(n[1],16)>9?"h":"d";s=parseInt(f,16)>9?"h":"d";switch(o+s){case"dd":r+="["+n[1];u>1&&(r+="-");r+=f+"]";break;case"dh":u=9-n[1];switch(u){case 0:r+="[9";break;case 1:r+="[89";break;default:r+="["+n[1]+"-9"}switch(t[1]){case"a":r+="]";break;case"b":r+="a]";break;default:r+="a-"+(parseInt(t[1],16)-1).toString(16)+"]"}break;case"hh":r+="["+n[1];u>1&&(r+="-");r+=(parseInt(t[1],16)-1).toString(16)+"]"}}r+="[0-9a-f]";u=parseInt(t[1],16)-parseInt(n[1],16);n=""+(parseInt(n,16)+u*16).toString(16);e.push(r)}else{u=t[1]-n[1];f=n[1]*1+u-1;r=n[0];switch(u){case 1:r+=n[1];break;case 2:r+="["+n[1]+f+"]";break;default:r+="["+n[1]+"-"+f+"]"}r+="[0-9]";n=""+(n*1+u*10);e.push(r)}if(r="",n[2]!=t[2])if(i){r=n[0]+n[1];u=parseInt(t[2],16)-parseInt(n[2],16);o=parseInt(n[2],16)>9?"h":"d";s=parseInt(t[2],16)>9?"h":"d";switch(o+s){case"dd":r+="["+n[2];u>1&&(r+="-");r+=t[2]+"]";break;case"dh":u=9-n[2];switch(u){case 0:r+="[9";break;case 1:r+="[89";break;default:r+="["+n[2]+"-9"}switch(t[2]){case"a":r+="a]";break;case"b":r+="ab]";break;default:r+="a-"+t[2]+"]"}break;case"hh":r+="["+n[2];u>1&&(r+="-");r+=t[2]+"]"}u=parseInt(t[2],16)-parseInt(n[2],16);n=""+(parseInt(n,16)+u).toString(16);e.push(r)}else{u=t[2]-n[2];r=n[0]+n[1];switch(u){case 0:r+=n[2];break;case 1:r+="["+n[2]+t[2]+"]";break;default:r+="["+n[2]+"-"+t[2]+"]"}n=""+(n*1+u);e.push(r)}return r="",n[2]=="0"&&t[2]=="0"&&(r=t,e.push(r)),r="",h=e.length,h==1?r=e[0]:(r=e.join(")|("),r="(("+r+"))"),r},regex:function(n,t){var b,f,k,d,g,i,o,s,rt,h,c,v,p,tt,w,r,u;if(n=this.query(n),!n)return"";t||(t=20);var l="S[123][0-9a-f]{2}[0-5][0-9a-f]",a="[0-9]{3}x[0-9]{3}",y="[BLMR]("+a+")("+l+a+")*",nt="(A("+l+")+)",ut="R[123][0-9a-f]{2}t[123][0-9a-f]{2}",it="S[123][0-9a-f]{2}[0-5u][0-9a-fu]",ft="([0-9]{3}x[0-9]{3})?",e;if(n=this.query(n),!n)return"";if(n=="Q")return[nt+"?"+y];if(n=="QT")return[nt+y];if(v=[],p=n.indexOf("T")+1,p)if(e="(A",tt=n.slice(0,p),n=n.replace(tt,""),tt=="QT")e+="("+l+")+)";else if(r=tt.match(RegExp("("+it+"|"+ut+")","g")),r){for(u=0;u<r.length;u++)w=r[u].match(RegExp(it)),w?(i=w[0].slice(0,4),h=w[0].slice(4,5),i+=h=="u"?"[0-5]":h,c=w[0].slice(5,6),i+=c=="u"?"[0-9a-f]":c,e+=i):(k=r[u].slice(1,4),d=r[u].slice(5,8),g=this.range(k,d,"hex"),i="S"+g+"[0-5][0-9a-f]",e+=i);e+="("+l+")*)"}if(r=n.match(RegExp("(V[0-9]+)","g")),r&&(t=r.toString().slice(1)*1),b=it+ft,r=n.match(RegExp(b,"g")),r)for(u=0;u<r.length;u++)f=r[u].toString(),rt=f.slice(1,4),i="S"+rt,h=f.slice(4,5),i+=h=="u"?"[0-5]":h,c=f.slice(5,6),i+=c=="u"?"[0-9a-f]":c,f.length>6?(o=f.slice(6,9)*1,s=f.slice(10,13)*1,i+=this.range(o-t,o+t),i+="x",i+=this.range(s-t,s+t)):i+=a,i=y+i+"("+l+a+")*",i=p?e+i:nt+"?"+i,v.push(i);if(b=ut+ft,r=n.match(RegExp(b,"g")),r)for(u=0;u<r.length;u++)f=r[u].toString(),k=f.slice(1,4),d=f.slice(5,8),g=this.range(k,d,"hex"),i="S"+g+"[0-5][0-9a-f]",f.length>8?(o=f.slice(8,11)*1,s=f.slice(12,15)*1,i+=this.range(o-t,o+t),i+="x",i+=this.range(s-t,s+t)):i+=a,i=y+i+"("+l+a+")*",i=p?e+i:nt+"?"+i,v.push(i);return v.length||v.push(e+y),v},results:function(n,t,i){var o,f,s,e,r,u;if(!t)return[];if(("BLMR".indexOf(i)===-1||i.length>1)&&(i=""),r=this.regex(n),!r)return[];for(u=0;u<r.length;u++)o=r[u],f=t.match(RegExp(o,"g")),t=f?f.join(" "):"";return t?(i&&(t=t.replace(/B/g,i),t=t.replace(/L/g,i),t=t.replace(/M/g,i),t=t.replace(/R/g,i)),s=t.split(" "),e=s.filter(function(n){return n in this?!1:this[n]=!0},{})):e=[],e},lines:function(n,t,i){var r,e,s,o,u,f;if(!t)return[];if(("BLMR".indexOf(i)===-1||i.length>1)&&(i=""),u=this.regex(n),!u)return[];for(f=0;f<u.length;f++)r=u[f],r="^"+r+".*",e=t.match(RegExp(r,"mg")),t=e?e.join("\n"):"";return t?(i&&(t=t.replace(/B/g,i),t=t.replace(/L/g,i),t=t.replace(/M/g,i),t=t.replace(/R/g,i)),s=t.split("\n"),o=s.filter(function(n){return n in this?!1:this[n]=!0},{})):o=[],o},convert:function(n,t){var u="",r;if(this.fsw(n)&&/^[eg]?([EG]L?)?$/.test(t)){var o="S[123][0-9a-f]{2}",f=o+"[0-5][0-9a-f]",s="(A("+f+")+)",i,e;if((t.indexOf("e")>-1||t.indexOf("g")>-1)&&(i=n.match(RegExp("A("+f+")*","g")),i))if(e=i[0],t.indexOf("e")>-1)u+=e+"T";else{for(i=e.match(RegExp(o,"g")),u+="A",r=0;r<i.length;r++)u+=i[r]+"uu";u+="T"}if((t.indexOf("E")>-1||t.indexOf("G")>-1)&&(i=n.match(RegExp(f+"[0-9]{3}x[0-9]{3}","g")),i))for(r=0;r<i.length;r++)u+=t.indexOf("E")>-1?i[r].slice(0,6):i[r].slice(0,4)+"uu",t.indexOf("L")>-1&&(u+=i[r].slice(6,13))}return u?"Q"+u:""}};
//# sourceMappingURL=sw10.min.js.map
