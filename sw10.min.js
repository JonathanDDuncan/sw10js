/**
* SignWriting 2010 JavaScript Library v1.1
* Copyright (c) 2007-2014, Stephen E Slevinski Jr
* sw10.min.js is released under the MIT License.
* http://www.opensource.org/licenses/mit-license.php
*/
var sw10=signwriting_2010={key:function(e){var t=e.match(/S[123][0-9a-f]{2}[0-5][0-9a-f]([0-9]{3}x[0-9]{3})?/g);if(!t){return""}else{return t[0]}},fsw:function(e){var t=e.match(/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*|S38[7-9ab][0-5][0-9a-f][0-9]{3}x[0-9]{3}/);if(!t){return""}else{return t[0]}},type:function(e){var t,n;switch(e){case"writing":t="100";n="37e";break;case"hand":t="100";n="204";break;case"movement":t="205";n="2f6";break;case"dynamic":t="2f7";n="2fe";break;case"head":case"hcenter":t="2ff";n="36c";break;case"vcenter":t="2ff";n="375";break;case"trunk":t="36d";n="375";break;case"limb":t="376";n="37e";break;case"location":t="37f";n="386";break;case"punctuation":t="387";n="38b";break;default:t="100";n="38b";break}return[t,n]},is:function(e,t){if(!this.size(e))return"";var n=sw10.type(t);var r=n[0];var i=n[1];var s=e.slice(1,4);return parseInt(r,16)<=parseInt(s,16)&&parseInt(i,16)>=parseInt(s,16)},filter:function(e,t){var n=sw10.type(t);var r=n[0];var i=n[1];var s="S"+sw10.range(r,i,1)+"[0-5][0-9a-f][0-9]{3}x[0-9]{3}";var o=e.match(RegExp(s,"g"));if(o){return o.join("")}else{return""}},random:function(e){var t=sw10.type(e);var n=t[0];var r=t[1];var i=Math.floor(Math.random()*(parseInt(r,16)-parseInt(n,16)+1)+parseInt(n,16));var s=Math.floor(Math.random()*6);var o=Math.floor(Math.random()*16);var u="S"+i.toString(16)+s.toString(16)+o.toString(16);if(this.size(u)){return u}else{return this.random(e)}},code:function(e){e=this.key(e);if(!e)return"";var t=1048576+(parseInt(e.slice(1,4),16)-256)*96+parseInt(e.slice(4,5),16)*16+parseInt(e.slice(5,6),16)+1;return String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))},uni8:function(e){e=this.key(e);if(!e)return"";var t=parseInt(e.substr(1,3),16)+parseInt("1D700",16);var n=String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023));var r=e.substr(4,1);if(r!="0"){r=parseInt(r,16)+parseInt("1DA9A",16);n+=String.fromCharCode(55296+(r-65536>>10),56320+(r-65536&1023))}var i=e.substr(5,1);if(i!="0"){i=parseInt(i,16)+parseInt("1DAA0",16);n+=String.fromCharCode(55296+(i-65536>>10),56320+(i-65536&1023))}return n},pua:function(e){e=this.key(e);if(!e)return"";var t=parseInt(e.substr(1,3),16)+parseInt("FD730",16);var n=String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023));var r=e.substr(4,1);r=parseInt(r,16)+parseInt("FD810",16);n+=String.fromCharCode(55296+(r-65536>>10),56320+(r-65536&1023));var i=e.substr(5,1);i=parseInt(i,16)+parseInt("FD820",16);n+=String.fromCharCode(55296+(i-65536>>10),56320+(i-65536&1023));return n},bbox:function(e){var t=/[0-9]{3}x[0-9]{3}/g;var n,r,i,s,o,u;var a=e.match(t);if(a){for(var f=0;f<a.length;f++){n=parseInt(a[f].slice(0,3));r=parseInt(a[f].slice(4,7));if(f==0){i=n;s=n;o=r;u=r}else{i=Math.min(i,n);s=Math.max(s,n);o=Math.min(o,r);u=Math.max(u,r)}}return""+i+" "+s+" "+o+" "+u}else{return""}},displace:function(e,t,n){var r,i;var s="[0-9]{3}x[0-9]{3}";var o=e.match(RegExp(s,"g"));if(o){for(var u=0;u<o.length;u++){r=parseInt(o[u].slice(0,3))+t;i=parseInt(o[u].slice(4,7))+n;e=e.replace(o[u],r+"X"+i)}e=e.replace(/X/g,"x")}return e},size:function(e){var t,n=this.fsw(e);if(n){var r=this.bbox(n);r=r.split(" ");x1=r[0];x2=r[1];y1=r[2];y2=r[3];t=x2-x1+"x"+(y2-y1);if(t=="0x0")return"";return t}var i=this.key(e);if(!i)return"";var s,o,u=2;var a=76*u;if(!this.canvaser){this.canvaser=document.createElement("canvas");this.canvaser.width=a;this.canvaser.height=a}var f=this.canvaser;var l=f.getContext("2d");l.clearRect(0,0,a,a);l.font=30*u+"px 'SignWriting 2010'";l.fillText(this.code(i),0,0);s=l.getImageData(0,0,a,a).data;e:for(var c=a-1;c>=0;c--){for(var h=0;h<a;h++){for(var p=0;p<4;p++){o=c*4+h*4*a+p;if(s[o]){break e}}}}var d=c;t:for(var h=a-1;h>=0;h--){for(var c=0;c<d;c++){for(var p=0;p<4;p++){o=c*4+h*4*a+p;if(s[o]){break t}}}}var v=h+1;d=""+Math.ceil(d/u);v=""+Math.ceil(v/u);if("S1710d S1711d S1712d S17311 S17321 S17733 S1773f S17743 S1774f S17753 S1775f".indexOf(i)>-1){d="20"}if("S1732f S17731 S17741 S17751".indexOf(i)>-1){v="20"}t=d+"x"+v;if(t=="0x0")return"";return t},max:function(e,t){var n=sw10.type(t);var r=n[0];var i=n[1];var s="S"+sw10.range(r,i,1)+"[0-5][0-9a-f][0-9]{3}x[0-9]{3}";var o=e.match(RegExp(s,"g"));if(o){var u,a,f,l,c="";for(var h=0;h<o.length;h++){u=o[h].slice(0,6);a=parseInt(o[h].slice(6,9));f=parseInt(o[h].slice(10,13));l=sw10.size(u).split("x");c+=u+a+"x"+f+(a+parseInt(l[0]))+"x"+(f+parseInt(l[1]))}return c}else{return""}},norm:function(e){var t,n,r,i;var s=sw10.bbox(sw10.max(e,"hcenter"));var o=sw10.bbox(sw10.max(e,"vcenter"));var u=sw10.bbox(sw10.max(e));if(!u)return"";if(s){t=parseInt(s.slice(0,3));n=parseInt(s.slice(4,7))}else{t=parseInt(u.slice(0,3));n=parseInt(u.slice(4,7))}if(o){r=parseInt(o.slice(8,11));i=parseInt(o.slice(12,15))}else{r=parseInt(u.slice(8,11));i=parseInt(u.slice(12,15))}var a=parseInt((t+n)/2);var f=parseInt((r+i)/2);var l=500-a;var c=500-f;var h=e.match(/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]/);if(!h){h="M"}else{h=h[0]}e=h+n+"x"+i+sw10.filter(e);return sw10.displace(e,l,c)},svg:function(e,t){var n=this.fsw(e);if(!n){var r=this.key(e);if(!r)return"";if(r.length==6){n=r+"500x500"}else{n=r}}if(!t)t={};if(t.size){t.size=parseFloat(t.size)}else{t.size=1}if(!t.line){t.line="black"}if(!t.fill){t.fill="white"}var i,s,o,u,a,f,l,c;i=/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*|S38[7-9ab][0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;s=/S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;o=/[0-9]{3}x[0-9]{3}/g;c={};c.L=-1;c.R=1;var h,p=500,d=500,v,m=500,g=500,y,b,w,E;y=n.charAt(0);var S=this.bbox(n);S=S.split(" ");p=S[0];d=S[1];m=S[2];g=S[3];a=n.match(s);for(var x=0;x<a.length;x++){u=a[x].slice(0,6);h=a[x].slice(6,9);v=a[x].slice(10,13);l='<g transform="translate('+h+","+v+')">';l+="<text ";if(t.css){l+='class="sym-fill"'}else{l+="style=\"font-family:'SignWriting 2010 Filling';font-size:30px;fill:"+t.fill+'"'}l+=">"+this.code(u)+"</text>";l+="<text ";if(t.css){l+='class="sym-line"'}else{l+="style=\"font-family:'SignWriting 2010';font-size:30px;fill:"+t.line+'"'}l+=">"+this.code(u)+"</text>";l+="</g>";a[x]=l}if(y=="S"){if(p==500&&m==500){var T=this.size(n.slice(0,6)).split("x");d=500+parseInt(T[0]);g=500+parseInt(T[1])}else{d=1e3-p;g=1e3-m}}b=d-p;w=g-m;E=c[y]||0;E=E*75+p-400;var N="<svg ";if(t.size!="x")N+='width="'+b*t.size+'" height="'+w*t.size+'" ';N+='viewBox="'+p+" "+m+" "+b+" "+w+'">'+a.join("")+"</svg>";if(t.laned){N='<div style="padding:10px;position:relative;width:'+b+"px;height:"+w+"px;left:"+E+'px;">'+N+"</div>"}return N},canvas:function(e,t){var n=document.createElement("canvas");var r=this.fsw(e);if(!r){var i=this.key(e);if(!i)return"";if(i.length==6){r=i+"500x500"}else{r=i}}if(!t)t={};if(t.size){t.size=parseFloat(t.size)}else{t.size=1}if(!t.line){t.line="black"}if(!t.fill){t.fill="white"}var s,o,u,a,f,l,c,h;s=/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*|S38[7-9ab][0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;o=/S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3}/g;u=/[0-9]{3}x[0-9]{3}/g;h={};h.L=-1;h.R=1;var p,d=500,v=500,m,g=500,y=500,b,w,E,S;b=r.charAt(0);var x=this.bbox(r);x=x.split(" ");d=x[0];v=x[1];g=x[2];y=x[3];if(b=="S"){if(d==500&&g==500){var T=this.size(r.slice(0,6)).split("x");v=500+parseInt(T[0]);y=500+parseInt(T[1])}else{v=1e3-d;y=1e3-g}}n.width=(v-d)*t.size;n.height=(y-g)*t.size;var N=n.getContext("2d");f=r.match(o);for(var C=0;C<f.length;C++){a=f[C].slice(0,6);p=f[C].slice(6,9);m=f[C].slice(10,13);N.font=30*t.size+"px 'SignWriting 2010 Filling'";N.fillStyle=t.fill;N.fillText(this.code(a),(p-d)*t.size,(m-g)*t.size);N.font=30*t.size+"px 'SignWriting 2010'";N.fillStyle=t.line;N.fillText(this.code(a),(p-d)*t.size,(m-g)*t.size)}return n},png:function(e,t){if(this.fsw(e)||this.key(e)){var n=this.canvas(e,t);var r=n.toDataURL("image/png");n.remove();return r}else{return""}},query:function(e){var t=e.match(/Q((A(S[123][0-9a-f]{2}[0-5u][0-9a-fu]|R[123][0-9a-f]{2}t[123][0-9a-f]{2})+)?T)?((R[123][0-9a-f]{2}t[123][0-9a-f]{2}([0-9]{3}x[0-9]{3})?)|(S[123][0-9a-f]{2}[0-5u][0-9a-fu]([0-9]{3}x[0-9]{3})?))*(V[0-9]+)?/);if(t){return t[0]}else{return""}},range:function(e,t,n){var r,i,s,o,u,a,f,l;if(!n)n="";e=("000"+e).slice(-3);t=""+t;r="";if(e===t)return e;i=[];if(!(e[0]==t[0]&&e[1]==t[1])){if(e[2]!="0"){r=e[0]+e[1];if(n){switch(e[2]){case"f":r+="f";break;case"e":r+="[ef]";break;case"d":case"c":case"b":case"a":r+="["+e[2]+"-f]";break;default:switch(e[2]){case"9":r+="[9a-f]";break;case"8":r+="[89a-f]";break;default:r+="["+e[2]+"-9a-f]";break}break}s=15-parseInt(e[2],16)+1;e=""+(parseInt(e,16)+s).toString(16);i.push(r)}else{switch(e[2]){case"9":r+="9";break;case"8":r+="[89]";break;default:r+="["+e[2]+"-9]";break}s=9-e[2]+1;e=""+(e*1+s);i.push(r)}}}r="";if(e[0]!=t[0]){if(e[1]!="0"){if(n){r=e[0];switch(e[1]){case"f":r+="f";break;case"e":r+="[ef]";break;case"d":case"c":case"b":case"a":r+="["+e[1]+"-f]";break;case"9":r+="[9a-f]";break;case"8":r+="[89a-f]";break;default:r+="["+e[1]+"-9a-f]";break}r+="[0-9a-f]";s=15-parseInt(e[1],16)+1;e=""+(parseInt(e,16)+s*16).toString(16);i.push(r)}else{r=e[0];s=9-e[1]+1;switch(e[1]){case"9":r+="9";break;case"8":r+="[89]";break;default:r+="["+e[1]+"-9]";break}r+="[0-9]";s=9-e[1]+1;e=""+(e*1+s*10);i.push(r)}}}r="";if(e[0]!=t[0]){if(n){s=parseInt(t[0],16)-parseInt(e[0],16);o=(parseInt(e[0],16)+s-1).toString(16);switch(s){case 1:r=e[0];break;case 2:r="["+e[0]+o+"]";break;default:if(parseInt(e[0],16)>9){f="h"}else{f="d"}if(parseInt(o,16)>9){l="h"}else{l="d"}switch(f+l){case"dd":r+="["+e[0]+"-"+o+"]";break;case"dh":s=9-e[0];switch(s){case 0:r+="[9";break;case 1:r+="[89";break;default:r+="["+e[0]+"-9";break}switch(o[0]){case"a":r+="a]";break;case"b":r+="ab]";break;default:r+="a-"+o+"]";break}break;case"hh":r+="["+e[0]+"-"+o+"]";break}}r+="[0-9a-f][0-9a-f]";s=parseInt(t[0],16)-parseInt(e[0],16);e=""+(parseInt(e,16)+s*256).toString(16);i.push(r)}else{s=t[0]-e[0];o=e[0]*1+s-1;switch(s){case 1:r=e[0];break;case 2:r="["+e[0]+o+"]";break;default:r="["+e[0]+"-"+o+"]";break}r+="[0-9][0-9]";e=""+(e*1+s*100);i.push(r)}}r="";if(e[1]!=t[1]){if(n){s=parseInt(t[1],16)-parseInt(e[1],16);o=(parseInt(e[1],16)+s-1).toString(16);r=e[0];switch(s){case 1:r+=e[1];break;case 2:r+="["+e[1]+o+"]";break;default:if(parseInt(e[1],16)>9){f="h"}else{f="d"}if(parseInt(o,16)>9){l="h"}else{l="d"}switch(f+l){case"dd":r+="["+e[1];if(s>1)r+="-";r+=o+"]";break;case"dh":s=9-e[1];switch(s){case 0:r+="[9";break;case 1:r+="[89";break;default:r+="["+e[1]+"-9";break}switch(t[1]){case"a":r+="]";break;case"b":r+="a]";break;default:r+="a-"+(parseInt(t[1],16)-1).toString(16)+"]";break}break;case"hh":r+="["+e[1];if(s>1)r+="-";r+=(parseInt(t[1],16)-1).toString(16)+"]";break}break}r+="[0-9a-f]";s=parseInt(t[1],16)-parseInt(e[1],16);e=""+(parseInt(e,16)+s*16).toString(16);i.push(r)}else{s=t[1]-e[1];o=e[1]*1+s-1;r=e[0];switch(s){case 1:r+=e[1];break;case 2:r+="["+e[1]+o+"]";break;default:r+="["+e[1]+"-"+o+"]";break}r+="[0-9]";e=""+(e*1+s*10);i.push(r)}}r="";if(e[2]!=t[2]){if(n){r=e[0]+e[1];s=parseInt(t[2],16)-parseInt(e[2],16);if(parseInt(e[2],16)>9){f="h"}else{f="d"}if(parseInt(t[2],16)>9){l="h"}else{l="d"}switch(f+l){case"dd":r+="["+e[2];if(s>1)r+="-";r+=t[2]+"]";break;case"dh":s=9-e[2];switch(s){case 0:r+="[9";break;case 1:r+="[89";break;default:r+="["+e[2]+"-9";break}switch(t[2]){case"a":r+="a]";break;case"b":r+="ab]";break;default:r+="a-"+t[2]+"]";break}break;case"hh":r+="["+e[2];if(s>1)r+="-";r+=t[2]+"]";break}s=parseInt(t[2],16)-parseInt(e[2],16);e=""+(parseInt(e,16)+s).toString(16);i.push(r)}else{s=t[2]-e[2];r=e[0]+e[1];switch(s){case 0:r+=e[2];break;case 1:r+="["+e[2]+t[2]+"]";break;default:r+="["+e[2]+"-"+t[2]+"]";break}e=""+(e*1+s);i.push(r)}}r="";if(e[2]=="0"&&t[2]=="0"){r=t;i.push(r)}r="";u=i.length;if(u==1){r=i[0]}else{r=i.join(")|(");r="(("+r+"))"}return r},regex:function(e,t){var n=this.query(e);if(!n){return""}var r,i,s,o,u,a,f,l,c,h,p;if(!t)t=20;var d="S[123][0-9a-f]{2}[0-5][0-9a-f]";var v="[0-9]{3}x[0-9]{3}";var m="[BLMR]("+v+")("+d+v+")*";var g="(A("+d+")+)";var y="R[123][0-9a-f]{2}t[123][0-9a-f]{2}";var b="S[123][0-9a-f]{2}[0-5u][0-9a-fu]";var w="([0-9]{3}x[0-9]{3})?";var E="(V[0-9]+)";var S;n=sw10.query(n);if(!n)return"";if(n=="Q"){return[g+"?"+m]}if(n=="QT"){return[g+m]}var x=[];var T=n.indexOf("T")+1;if(T){S="(A";var N=n.slice(0,T);n=n.replace(N,"");if(N=="QT"){S+="("+d+")+)"}else{var C=N.match(RegExp("("+b+"|"+y+")","g"));if(C){for(var k=0;k<C.length;k++){var L=C[k].match(RegExp(b));if(L){a=L[0].slice(0,4);h=L[0].slice(4,5);if(h=="u"){a+="[0-5]"}else{a+=h}p=L[0].slice(5,6);if(p=="u"){a+="[0-9a-f]"}else{a+=p}S+=a}else{s=C[k].slice(1,4);o=C[k].slice(5,8);u=sw10.range(s,o,"hex");a="S"+u+"[0-5][0-9a-f]";S+=a}}S+="("+d+")*)"}else{console.log(N)}}}var C=n.match(RegExp(E,"g"));if(C)t=C.toString().slice(1)*1;r=b+w;var C=n.match(RegExp(r,"g"));if(C){for(var k=0;k<C.length;k++){i=C[k].toString();c=i.slice(1,4);a="S"+c;h=i.slice(4,5);if(h=="u"){a+="[0-5]"}else{a+=h}p=i.slice(5,6);if(p=="u"){a+="[0-9a-f]"}else{a+=p}if(i.length>6){f=i.slice(6,9)*1;l=i.slice(10,13)*1;a+=sw10.range(f-t,f+t);a+="x";a+=sw10.range(l-t,l+t)}else{a+=v}a=m+a+"("+d+v+")*";if(T){a=S+a}else{a=g+"?"+a}x.push(a)}}r=y+w;var C=n.match(RegExp(r,"g"));if(C){for(var k=0;k<C.length;k++){i=C[k].toString();s=i.slice(1,4);o=i.slice(5,8);u=sw10.range(s,o,"hex");a="S"+u+"[0-5][0-9a-f]";if(i.length>8){f=i.slice(8,11)*1;l=i.slice(12,15)*1;a+=sw10.range(f-t,f+t);a+="x";a+=sw10.range(l-t,l+t)}else{a+=v}a=m+a+"("+d+v+")*";if(T){a=S+a}else{a=g+"?"+a}x.push(a)}}if(!x.length){x.push(S+m)}return x}}